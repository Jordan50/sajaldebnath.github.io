
<!DOCTYPE html>
<html lang="en-US">
<!-- Including the Head tag and metadata -->


<head>
  <!--Meta-->
    <meta charset="UTF-8">
    <title>How to access and utilize ESXCLI from PowerCLI-Anything Virtual and Cloudy</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0, maximum-scale=5.0">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="description" content="Here you will find posts on various VMware and other technologies including but not limited to vRealize Suite, NSX, VSAN, PowerCLI, Python, and DevOps. A special focus is on vRA, vROps and vRO">
    <meta name="author" content="Sajal Debnath">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/css/clr-ui.min.css">
    <style>
      .responsive {
        max-width: 100%;
        height: auto;
      }
      .video-container {
        position: relative;
        padding-bottom: 56.25%;
        padding-top: 30px; height: 0; overflow: hidden;
      }
      .video-container iframe,
      .video-container object,
      .video-container embed {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }
    </style>
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


<body>
<!--  <main> body starts from here-->
  <clr-main-container class="main-container">
    <div class="alert alert-app-level alert-warning">
        <div class="alert-items">
            <div class="alert-item static">
                <div class="alert-text">
                    Just moved to Hexo + VMware Clarity combination. This site is not fully working in Firefox. Try IE/Chrome/Safari Browsers instead.
                </div>
            </div>
        </div>
    </div>
    <!-- Blog Header Navigation and Subnav menus -->
    
<!-- <header class="header header-4"> -->

<clr-header class="header-4 header">
  <!---->
  <button class="header-hamburger-trigger" type="button" aria-label="HeaderMenu">
    <span></span>
  </button>
  <div class="branding">
      <a class="logo-and-title" href="/" >
          <span><img SRC="/images/logo.png" ALT="Logo" WIDTH=36 HEIGHT=36></img></span>
          <span class="title">Anything Virtual and Cloudy</span>
      </a>
  </div>
  <div class="divider"></div>
  <ul class="header-nav list-unstyled clr-nav-level-1">
    <li class="nav-item">
      <a href="/" class="nav-link nav-text">Home</a>
    </li>
      <!---->
      <li class="nav-item">
        <a href="/about/" class="nav-link nav-text">About</a>
      </li>
        <!---->
      <li class="nav-item">
        <a href="/contact/" class="nav-link nav-text">Contact</a>
      <li>
      <li class="nav-item">
        <a href="/archives/" class="nav-link nav-text">Archives</a>
      <li>
        <!---->
  </ul>
  <!---->
  <button class="header-overflow-trigger ng-star-inserted" type="button" aria-label="SubnavMenu">
    <span></span>
  </button>
    <div class="header-backdrop"></div>
</clr-header>

    <!-- -->
<nav class="subnav clr-nav-level-2">

    <ul class="nav">
      <li class="nav-item">
        <div class="dropdown">
          <button type="button" class="dropdown-toggle btn btn-sm btn-info-outline" title="Click for Dropdown">
              vRealize Suite
          </button>
          <div class="dropdown-menu">
            <button type="button" class="dropdown-item"><a class="nav-link" href="/categories/vRealize-Suite/vRealize-Automation">vRealize Automation</a></button>
            <div class="dropdown-divider"></div>
            <button type="button" class="dropdown-item"><a class="nav-link" href="/categories/vRealize-Suite/vRealize-Operations">vRealize Operations</a></button>
            <div class="dropdown-divider"></div>
            <button type="button" class="dropdown-item"><a class="nav-link" href="/categories/vRealize-Suite/vRealize-Orchestrator">vRealize Orchestrator</a></button>
            <div class="dropdown-divider"></div>
            <button type="button" class="dropdown-item"><a class="nav-link" href="/categories/vRealize-Suite/vRealize-Code-Stream">vRealize Code Stream</a></button>
            <div class="dropdown-divider"></div>
            <button type="button" class="dropdown-item"><a class="nav-link" href="/categories/vRealize-Suite/vRealize-LogInsight">vRealize LogInsight</a></button>
          </div>
        </div>
      </li>
      <li class="nav-item">
        <div class="dropdown">
          <button type="button" class="dropdown-toggle btn btn-sm title="Click for Dropdown" btn-info-outline">
            Scripting
          </button>
          <div class="dropdown-menu">
            <button type="button" class="dropdown-item"><a class="nav-link" href="/categories/Automation-and-Scripting/PowerCLI">PowerCLI</a></button>
            <div class="dropdown-divider"></div>
            <button type="button" class="dropdown-item"><a class="nav-link" href="/categories/Automation-and-Scripting/Python">Python</a></button>
          </div>
        </div>
      </li>

        <li class="nav-item">
            <a class="nav-link" href="/categories/NSX">NSX</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/categories/DevOps">DevOps</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/categories/VSAN">VSAN</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/categories/General">General</a>
        </li>
    </ul>
</nav>


    <!-- Content container starts from here-->
    <!-- Dividing the content area into two different part. First part will Show
      Post and Page related information. Right side will have widgets -->
    <div class="content-container">
      <div class="content-area">
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-9">
                <div class="card">
     <div class="card-header">
         <h3 class="card-title" >
           How to access and utilize ESXCLI from PowerCLI
         </h3>
     </div>
     <div class="card-block">
    
     <div class="alert alert-warning">
        <div class="alert-items">
            <div class="alert-item static">
                <div class="alert-text">
                  


Related Categories: <a href="/categories/Automation-and-Scripting/">#Automation and Scripting</a> <a href="/categories/Automation-and-Scripting/PowerCLI/">#PowerCLI</a> &nbsp &nbsp &nbsp &nbsp <img border="0" alt="Info-Standard" src="/calendar-line.svg" width="18" height="18"></img> 2015-10-25



                </div>
            </div>
        </div>
     </div>
     
     <div class="card-text">
     <!-- Content -->
         <h4 id="Purpose"><a href="#Purpose" class="headerlink" title="Purpose"></a>Purpose</h4><p>Today I am going to talk about an interesting feature of PowerCLI. Through PowerCLI you can utilize the full functionalities of ESXCLI commands. Question is why would you like to access Esxcli commands from PowerCLI cmdlets. The reason is there are certain tasks which can easily be done using Esxcli cmdlets because there are no simple cmdlets available in PowerCLI for this.<br><a id="more"></a><br>For example, if you want to re-signature a vmfs datastore, it is easier to use Esxcli than to use PowerCLI and vSphere APIâ€™s. Besides using Esxcli very easily provides access to low level information about esxi server.</p>
<p>To access the Esxcli commands, first we need to connect to an Esxi server directly and then use the Get-EsxCli cmdlet to access the ESXCli commands. I will first connect to a Esxi server.</p>
<pre class=" language-language-powershell"><code class="language-language-powershell">
PS C:> Connect-VIServer esxi1.lab.com -Username root -Password abcxyz
</code></pre>

<p>Next we will store the information in a variable <strong>$esxinfo</strong>.</p>
<pre class=" language-powershell"><code class="language-powershell">
<span class="token function">PS</span> C:> <span class="token variable">$esxinfo</span> = Get<span class="token operator">-</span>EsxCli <span class="token operator">-</span>VMHost Esxi1<span class="token punctuation">.</span>lab<span class="token punctuation">.</span>com
</code></pre>

<p>So we have stored ESX CLI cmdlets in the variable. Now if we check the variable we can get a list of all the cmdlets.</p>
<pre class=" language-powershell"><code class="language-powershell">
    <span class="token function">PS</span> C:> <span class="token variable">$esxinfo</span>

    =====================

    EsxCli: esxi1<span class="token punctuation">.</span>lab<span class="token punctuation">.</span>com
       Elements:
       <span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span>
       device
       elxnet
       esxcli
       fcoe
       graphics
      hardware
       iscsi
       network
       rdma
       sched
       software
       storage
       system
       vm
       vsan
</code></pre>


<p>Ok. So good so far. Since we got the list, what to do with it? To dig deeper, we need to query further. For example, if we need to find the information about hardware, we need to query it.</p>
<pre class=" language-powershell"><code class="language-powershell">
    <span class="token function">PS</span> C:> <span class="token variable">$esxinfo</span><span class="token punctuation">.</span>hardware

    =======================

    EsxCliElement: hardware

       Elements:
       <span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span>
       bootdevice
       clock
       cpu
       ipmi
       memory
       pci
       platform
       smartcard
       trustedboot
</code></pre>


<p>As can be seen from above that we can get information about the listed parameters. For example, if we want to know about the platform we can simply use it with do notation.</p>
<pre class=" language-powershell"><code class="language-powershell">
    <span class="token function">PS</span> C:> <span class="token variable">$esxinfo</span><span class="token punctuation">.</span>hardware<span class="token punctuation">.</span>platform

    =======================
    EsxCliElement: platform

       Methods:
       <span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>

       PlatformGet get<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>

<p>We can see that there is only one method <strong>get()</strong> defined in this parameter. So we can use this to get the information about the platform.</p>
<pre class=" language-powershell"><code class="language-powershell">
    <span class="token function">PS</span> C:> <span class="token variable">$esxinfo</span><span class="token punctuation">.</span>hardware<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>

    IPMISupported : false

    ProductName   : VMware Virtual Platform

    SerialNumber  : VMware<span class="token operator">-</span>56 4d a2 7e 02 05 10 2b<span class="token operator">-</span>77 8b 50 eb bc b8 0b 78

    UUID          : 0x56 0x4d 0xa2 0x7e 0x2 0x5 0x10 0x2b 0x77 0x8b 0x50 0xeb 0xbc 0xb8 0xb 0x78

    VendorName    : VMware<span class="token punctuation">,</span> Inc<span class="token punctuation">.</span>
</code></pre>


<p>Likewise you can use different parameters to get or set many aspects of Esxi servers which you can do from ESX CLI cmdlets, but this time from PowerCLI.</p>

     </div>
     </div>
        <div class="card-footer">
            <b>Share this Post &emsp; </b>

            
<a class="card-link" href="http://www.facebook.com/sharer.php?u=https://sajaldebnath.com/how-to-access-and-utilize-esxcli-from-powercli.html" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">
  <img border="0" alt="Facebook" src="/007-facebook.png" width="25" height="25"></img>
</a>
<a class="card-link" href="http://www.linkedin.com/shareArticle?mini=true&url=https://sajaldebnath.com/how-to-access-and-utilize-esxcli-from-powercli.html" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">
  <img border="0" alt="LinkedIn" src="/005-linkedin.png" width="25" height="25"></img>
</a>
<a class="card-link" href="http://twitter.com/intent/tweet?text=An%20intersting%20blog&url=https://sajaldebnath.com/how-to-access-and-utilize-esxcli-from-powercli.html" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">
  <img border="0" alt="Twitter" src="/006-twitter.png" width="25" height="25"></img>
</a>
<a class="card-link" href="https://plus.google.com/share?url=https://sajaldebnath.com/how-to-access-and-utilize-esxcli-from-powercli.html" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">
  <img border="0" alt="Goolge+" src="/003-google-plus.png" width="25" height="25"></img>
</a>


        </div>
    </div>

<!-- Comments Section -->

<section class="comments">
  <div class="card">
    <div class="card-header">
      <b>Comments</b>
    </div>
    <div class="card-block">
      <div class="card-text">
        
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>


      </div>
    </div>
  </div>
</section>


   <!-- Shows the data for the page or posts -->
          </div>
          <!-- Widgets Area -->
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-3">
            <div>
              <!-- Search Area -->
              <div class="row">
                <div class="col-lg-12">
                  <div class="card">
  <div class="card-header">
    <b>Search the Site</b>
  </div>
  <div class="card-block">
    <div class="card-text">
      <script>
        (function() {
          var cx = '013858032712959220653:01en0zgxnjq';
          var gcse = document.createElement('script');
          gcse.type = 'text/javascript';
          gcse.async = true;
          gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(gcse, s);
        })();
      </script>
      <gcse:search></gcse:search>
    </div>
  </div>
</div>
                </div>
              </div>
              <!-- Socials Area -->
              <div class="row">
                <div class="col-lg-12">
                  <div class="card">
  <div class="card-header">
    <b>Follow me on Social Media</b>
  </div>
  <div class="card-block">
    <div class="card-text">
      <a href="https://www.facebook.com/sajal.debnath" class="nav-link nav-text" target="_blank" rel="noopener" >
          <img border="0" alt="Facebook" src="/007-facebook.png" width="25" height="25"></img>
      </a>
      &emsp;
      <a href="https://twitter.com/sajal_debnath" class="nav-link nav-text" target="_blank" rel="noopener">
          <img border="0" alt="Twitter" src="/006-twitter.png" width="25" height="25"></img>
      </a>
      &emsp;
      <a href="https://in.linkedin.com/in/sajaldebnath" class="nav-link nav-text" target="_blank" rel="noopener">
          <img border="0" alt="LinkedIn" src="/005-linkedin.png" width="25" height="25"></img>
      </a>
      &emsp;
      <a href="https://www.youtube.com/user/vmunix1234" class="nav-link nav-text" target="_blank" rel="noopener">
          <img border="0" alt="Youtube" src="/004-youtube.png" width="25" height="25"></img>
      </a>
      &emsp;
      <a href="https://plus.google.com/+SajalDebnath" class="nav-link nav-text" target="_blank" rel="noopener">
          <img border="0" alt="Goolge+" src="/003-google-plus.png" width="25" height="25"></img>
      </a>
      &emsp;
      <a href="https://github.com/sajaldebnath" class="nav-link nav-text" target="_blank" rel="noopener">
          <img border="0" alt="Github" src="/002-github.png" width="25" height="25"></img>
      </a>
      &emsp;
      <a href="https://sajaldebnath.github.io/atom.xml" class="nav-link nav-text" target="_blank" rel="noopener">
          <img border="0" alt="RSS" src="/001-rss.png" width="25" height="25"></img>
      </a>
    </div>
  </div>
</div>

                </div>
              </div>
              <!-- Latest Posts Area -->
              <div class="row">
                <div class="col-lg-12">
                  
<div class="card">
  <div class="card-header">
    <b>Latest Posts</b>
  </div>
  <div class="card-block">
    <div class="card-text">
      <ul class="list">
        
          <li>
            <a href="auto-scaling-deep-dive.html">Auto-Scaling Deep Dive</a>
          </li>
        
          <li>
            <a href="journey-from-wordpress-to-hexo-and-clarity.html">Journey from Wordpress to Hexo and Clarity</a>
          </li>
        
          <li>
            <a href="oracle-weblogic-as-a-service-for-vrealize-automation.html">Oracle Weblogic-as-a-Service for vRealize Automation</a>
          </li>
        
          <li>
            <a href="vmworld-report-from-the-field.html">VMworld report from the field</a>
          </li>
        
          <li>
            <a href="how-to-manually-edit-vrealize-automation-vpostgres-database.html">How to manually edit vRealize Automation vPostgres database</a>
          </li>
        
      </ul>
    </div>
  </div>
</div>

                </div>
              </div>
              <!-- Tags Area -->
              <div class="row">
                <div class="col-lg-12">
                  <div class="card">
  <div class="card-header">
    <b>Post Tags</b>
  </div>
  <div class="card-block">
    <div class="card-text">
      <ul class="list-unstyled">
        <span class="label label-warning">
          <a href="/tags/Automation/">Automation</a>
        </span>
        <span class="label label-warning">
          <a href="/tags/vRealize-Suite">vRealize Suite</a>
        </span>
        <span class="label label-warning">
          <a href="/tags/vRealize-Automation">vRealize Automation</a>
        </span>
        <span class="label label-warning">
          <a href="/tags/vRealize-Operations">vRealize Operations</a>
        </span>
        <span class="label label-warning">
          <a href="/tags/vRealize-Orchestrator">vRealize Orchestrator</a>
        </span>
        <span class="label label-warning">
          <a href="/tags/vRealize-Code-Stream">vRealize Code Stream</a>
        </span>
        <span class="label label-warning">
          <a href="/tags/vRealize-LogInsight">vRealize LogInsight</a>
        </span>
        <span class="label label-warning">
          <a href="/tags/PowerCLI">PowerCLI</a>
        </span>
        <span class="label label-warning">
          <a href="/tags/Python">Python</a>
        </span>
        <span class="label label-warning">
          <a href="/tags/NSX">NSX</a>
        </span>
        <span class="label label-warning">
          <a href="/tags/DevOps">DevOps</a>
        </span>
        <span class="label label-warning">
          <a href="/tags/VSAN">VSAN</a>
        </span>
        <span class="label label-warning">
          <a href="/tags/General">General</a>
        </span>
      </ul>
    </div>
  </div>
</div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </clr-main-container>

  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-84051711-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-84051711-1');
  gtag('set', {'user_id': 'UA-84051711-1'}); // Set the user ID using signed-in user_id.
</script>

  <!-- Including the Scripts Area -->
  <script src="/js/jquery-3.3.1.slim.min.js" async></script>
  <script>window.jQuery || document.write('<script src="/js/jquery-3.3.1.slim.min.js"><\/script>')</script>

  <noscript>
    Sorry...JavaScript is needed to go ahead.
  </noscript>

  <!-- Defining the scripts -->
  <script type="text/javascript">

    // Handling the main header menubar options in Responsive mode
    $(".header-hamburger-trigger").on('click',function(){
      if($(".main-container").hasClass("open-hamburger-menu")){
        $(".main-container").removeClass("open-hamburger-menu");
      }else{
      $(".main-container").addClass("open-hamburger-menu");
    }
    });

    // Handling the Subnav menubar options in Responsive mode
    $(".header-overflow-trigger").on('click',function(){
      if($(".main-container").hasClass("open-overflow-menu")){
        $(".main-container").removeClass("open-overflow-menu");
      }else{
        $(".main-container").addClass("open-overflow-menu");
      }
    });

  </script>
  <!-- Disqus Comments -->
  
    <script type="text/javascript">
        var disqus_shortname = 'sajaldebnath';
        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>
  

  <script type="text/javascript">

    // The following function provides the active class to header items
    //Separate Section
    // The following two functions creates the dropdown in Subnav

    $(".dropdown").on('click',function(){
      if($(".dropdown").hasClass("open")){
        $(".dropdown").removeClass("open");
        $(this).addClass("open");
      }else{
      $(this).addClass("open");
      }
    });

    // Close the dropdown menu if the user clicks outside of it
    document.onclick = function myClickHandler(event) {
      if (!event.target.matches('.dropdown-toggle')) {
          $(".dropdown").removeClass("open");
      }
    }
  </script>

</body>
</html>
